<mat-card class="sell-form-card">
  <mat-card-title>Fahrzeug zum Verkauf eintragen</mat-card-title>
  <form (ngSubmit)="onSubmit()" #vehicleForm="ngForm">
    <mat-form-field appearance="fill">
      <mat-label>Fahrzeugname</mat-label>
      <input matInput name="name" [(ngModel)]="vehicle.name" required placeholder="Fahrzeugname eingeben">
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Preis</mat-label>
      <input matInput type="number" name="price" [(ngModel)]="vehicle.price" required placeholder="Preis in CHF">
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Baujahr</mat-label>
      <input matInput type="number" name="year" [(ngModel)]="vehicle.year" required placeholder="Baujahr z.B. 2020">
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Kilometerstand</mat-label>
      <input matInput type="number" name="mileage" [(ngModel)]="vehicle.mileage" required placeholder="Kilometerstand z.B. 100000">
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Zustand</mat-label>
      <input matInput name="condition" [(ngModel)]="vehicle.condition" placeholder="z. B. Gebraucht, Neu">
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Fahrzeughistorie</mat-label>
      <textarea matInput name="vehicleHistory" [(ngModel)]="vehicle.vehicleHistory" placeholder="Kurze Beschreibung oder Historie"></textarea>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Marke</mat-label>
      <mat-select name="brandsId" [(ngModel)]="vehicle.brandsId" required>
        <mat-option *ngFor="let brand of brands" [value]="brand.id">{{ brand.name }}</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Farbe</mat-label>
      <mat-select name="colorsId" [(ngModel)]="vehicle.colorsId" required>
        <mat-option *ngFor="let color of colors" [value]="color.id">{{ color.name }}</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Typ</mat-label>
      <mat-select name="typesId" [(ngModel)]="vehicle.typesId" required>
        <mat-option *ngFor="let type of types" [value]="type.id">{{ type.type }}</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-divider></mat-divider>
    <h3>Technische Spezifikationen</h3>

    <mat-form-field appearance="fill">
      <mat-label>Leistung (kW)</mat-label>
      <input matInput type="number" [(ngModel)]="spec.powerKw" name="powerKw" required placeholder="z.B. 100">
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Leistung (PS)</mat-label>
      <input matInput type="number" [(ngModel)]="spec.powerPs" name="powerPs" required placeholder="z.B. 136">
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Länge (mm)</mat-label>
      <input matInput type="number" [(ngModel)]="spec.lengthMillimeters" name="lengthMillimeters" required placeholder="z.B. 4500">
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Breite (mm)</mat-label>
      <input matInput type="number" [(ngModel)]="spec.widthMillimeters" name="widthMillimeters" required placeholder="z.B. 1800">
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Höhe (mm)</mat-label>
      <input matInput type="number" [(ngModel)]="spec.heightMillimeters" name="heightMillimeters" required placeholder="z.B. 1400">
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Kofferraumvolumen min (l)</mat-label>
      <input matInput type="number" [(ngModel)]="spec.trunkInLiterMin" name="trunkInLiterMin" required placeholder="z.B. 350">
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Kofferraumvolumen max (l)</mat-label>
      <input matInput type="number" [(ngModel)]="spec.trunkInLiterMax" name="trunkInLiterMax" required placeholder="z.B. 1200">
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>0–100 km/h (s)</mat-label>
      <input matInput type="number" [(ngModel)]="spec.zeroToHundredInSeconds" name="zeroToHundredInSeconds" required placeholder="z.B. 9.8">
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Vmax (km/h)</mat-label>
      <input matInput type="number" [(ngModel)]="spec.topSpeedInKmH" name="topSpeedInKmH" required placeholder="z.B. 190">
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Verbrauch/100km</mat-label>
      <input matInput type="number" [(ngModel)]="spec.consumptionHundredInX" name="consumptionHundredInX" required placeholder="z.B. 6.5">
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>CO₂-Emissionen (g/km)</mat-label>
      <input matInput type="number" [(ngModel)]="spec.coTwoEmissionsInGPerKm" name="coTwoEmissionsInGPerKm" required placeholder="z.B. 130">
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Hubraum (cm³)</mat-label>
      <input matInput type="number" [(ngModel)]="spec.cubicCapacity" name="cubicCapacity" required placeholder="z.B. 1598">
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Anzahl Türen</mat-label>
      <mat-select [(ngModel)]="spec.doorsId" name="doorsId" required>
        <mat-option *ngFor="let door of doors" [value]="door.id">{{ door.name }}</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Anzahl Sitze</mat-label>
      <mat-select [(ngModel)]="spec.seatsId" name="seatsId" required>
        <mat-option *ngFor="let seat of seats" [value]="seat.id">{{ seat.name }}</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Motor</mat-label>
      <mat-select [(ngModel)]="spec.engineId" name="engineId" required>
        <mat-option *ngFor="let engine of engines" [value]="engine.id">{{ engine.name }}</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <mat-label>Kraftstoffart</mat-label>
      <mat-select [(ngModel)]="spec.fuelsId" name="fuelsId" required>
        <mat-option *ngFor="let fuel of fuels" [value]="fuel.id">{{ fuel.name }}</mat-option>
      </mat-select>
    </mat-form-field>

    <button mat-raised-button color="primary" type="submit">Speichern</button>
  </form>
</mat-card>

<mat-card class="sell-list-card">
  <mat-card-title>Deine Verkaufsfahrzeuge</mat-card-title>
  <mat-table [dataSource]="userVehicles" class="mat-elevation-z8">

    <ng-container matColumnDef="name">
      <mat-header-cell *matHeaderCellDef> Name </mat-header-cell>
      <mat-cell *matCellDef="let vehicle"> {{ vehicle.name }} </mat-cell>
    </ng-container>

    <ng-container matColumnDef="price">
      <mat-header-cell *matHeaderCellDef> Preis </mat-header-cell>
      <mat-cell *matCellDef="let vehicle"> {{ vehicle.price }} CHF </mat-cell>
    </ng-container>

    <ng-container matColumnDef="year">
      <mat-header-cell *matHeaderCellDef> Jahr </mat-header-cell>
      <mat-cell *matCellDef="let vehicle"> {{ vehicle.year }} </mat-cell>
    </ng-container>

    <ng-container matColumnDef="actions">
      <mat-header-cell *matHeaderCellDef> Aktionen </mat-header-cell>
      <mat-cell *matCellDef="let vehicle">
        <button mat-button (click)="editVehicle(vehicle)">Bearbeiten</button>
        <button mat-button color="warn" (click)="deleteVehicle(vehicle.id)">Löschen</button>
      </mat-cell>
    </ng-container>

    <mat-header-row *matHeaderRowDef="['name', 'price', 'year', 'actions']"></mat-header-row>
    <mat-row *matRowDef="let row; columns: ['name', 'price', 'year', 'actions']"></mat-row>
  </mat-table>
</mat-card>